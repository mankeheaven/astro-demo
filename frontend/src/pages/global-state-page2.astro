---
import Layout from '../layouts/Layout.astro';
import GlobalCounter from '../components/GlobalCounter';
import ActivityLog from '../components/ActivityLog';
---

<Layout title="全局状态 - 页面2">
	<div class="container mx-auto p-4">
		<h1 class="text-3xl font-bold mb-2 dark:text-white">全局状态共享 - 页面2</h1>
		
		<div class="mb-6">
			<p class="text-gray-600 dark:text-gray-300">
				这是第二个页面，使用相同的<span class="font-semibold">Zustand</span>全局状态。
				计数器的值应该与<a href="/global-state-page1" class="text-blue-600 dark:text-blue-400 underline">页面1</a>
				保持同步。
			</p>
		</div>
		
		<div class="grid grid-cols-1 gap-6">
			<GlobalCounter client:load />
			<ActivityLog client:load />
			<div class="bg-yellow-100 dark:bg-yellow-900 p-6 rounded-lg">
				<p class="text-yellow-800 dark:text-yellow-200">
					全局状态组件暂时被禁用以测试环境配置功能。
				</p>
			</div>
		</div>
	</div>
</Layout>

<style>
	/* 这些样式支持深色模式 */
	:global(html.dark) {
		background-color: #1a202c;
		color: #e2e8f0;
	}
</style>

<script>
	// 初始化主题
	document.addEventListener('DOMContentLoaded', () => {
		const theme = localStorage.getItem('theme') || 'light';
		document.documentElement.classList.add(theme);
	});
</script> 