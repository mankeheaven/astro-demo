---
import Layout from '../layouts/Layout.astro';
import GlobalCounter from '../components/GlobalCounter';
import ActivityLog from '../components/ActivityLog';
---

<Layout title="全局状态 - 页面1">
	<div class="container mx-auto p-4">
		<h1 class="text-3xl font-bold mb-2 dark:text-white">全局状态共享 - 页面1</h1>
		
		<div class="mb-6">
			<p class="text-gray-600 dark:text-gray-300">
				这个示例展示了如何使用<span class="font-semibold">Zustand</span>在不同页面间共享状态。
				尝试修改计数器，然后访问<a href="/global-state-page2" class="text-blue-600 dark:text-blue-400 underline">页面2</a>
				查看状态是否保持一致。
			</p>
		</div>
		
		<div class="grid grid-cols-1 gap-6">
			<GlobalCounter client:load />
			<ActivityLog client:load />
			
		</div>
	</div>
</Layout>

<style>
	/* 这些样式支持深色模式 */
	:global(html.dark) {
		background-color: #1a202c;
		color: #e2e8f0;
	}
</style>

<script>
	// 初始化主题
	document.addEventListener('DOMContentLoaded', () => {
		const theme = localStorage.getItem('theme') || 'light';
		document.documentElement.classList.add(theme);
	});
</script> 